<div className="jumbotronq">
    <div
        class="toast"
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
        id="toast"
    >
        <div class="toast-body">
            {{toastMessage}}
        </div>
    </div>
    <header>
        <h3>Welcome to Saasbook's community section</h3>
        <p>Hop through the community for inspiration or share your ideas</p>
    </header>
    <div className="container">
        <div className="row">
            <div className="h-25">
                <div class="card d-flex flex-row align-items-start p-4">
                    <img
                        src="{{src}}"
                        class="rounded-circle avatar h-10"
                        alt="{{name}}"
                    />
                    <div
                        class="post-content d-flex flex-column align-items-center w-100"
                    >
                        {{#if authenticated}}
                        <textarea
                            class="communityInput w-100 mx-10"
                            rows="3"
                            placeholder="Start a discussion"
                        ></textarea>
                        <button
                            class="w-50 text-center mt-2"
                            id="communityButton"
                        >
                            Create discussion
                        </button>
                        {{else}}
                        <textarea
                            disabled
                            class="communityInput w-100 mx-10 disabled"
                            rows="3"
                            placeholder="Login to create a discussion"
                        ></textarea>
                        <button
                            class="w-50 text-center mt-2 disabled"
                            id="communityButton"
                        >
                            Login To create a discussion
                        </button>
                        {{/if}}
                    </div>
                </div>
            </div>
            <div class="post-container">
                {{#each posts}}
                <a href="community/post/{{_id}}">
                    <div className="col-md-4 border-grey w-100">
                        <div class="card text-black bg-white mb-3 mt-4">
                            <div class="card-header py-4">{{name}}</div>
                            <div
                                class="card-body d-flex justify-content-space-between h-50 py-0"
                            >
                                <p
                                    class="card-text d-flex align-items-center justify-content-space-between flex-row"
                                >
                                    by {{user.name}}
                                </p>
                                <p class="card-text">
                                    {{replies.length}} comments
                                </p>
                                <p class="card-text">
                                    {{likes.length}} likes
                                </p>
                            </div>
                        </div>
                    </div>
                </a>
                {{/each}}
            </div>
        </div>
    </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"
></script>
<script src="/public/js/community.js"></script>
